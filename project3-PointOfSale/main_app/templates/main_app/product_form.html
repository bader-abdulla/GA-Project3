{% extends 'base.html' %} 

{% block content %} 

<div class="container my-auto">
  <div class="row">
    <div class="col-lg-4 col-md-8 col-12 mx-auto">
      <div class="card z-index-0 fadeIn3 fadeInBottom">
        <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
          <div class="bg-gradient-primary shadow-primary border-radius-lg py-3 pe-1">
        {% if object %}
            <h4 class="text-white font-weight-bolder text-center mt-2 mb-0">Edit Product <span class="teal-text">{{ object.id }}</span></h4>
        {% else %}
            <h4 class="text-white font-weight-bolder text-center mt-2 mb-0">Add Product</h4>
        {% endif %}
          </div>
        </div>


        <div class="card-body">
          {% if object %}
          <form action="" method="post" role="form" class="text-start" enctype="multipart/form-data">
              {% csrf_token %}
              <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

            <div class="input-group input-group-outline mb-3">
                <label>Name</label>
                <input type="text" name="name" id="product_name" {% if object %} value="{{ object.name }}" {% endif %} class="form-control">
            </div>

            <div class="input-group input-group-outline mb-3">
                <label for="product_description" class="form-label">Description</label>
                <input type="text" name="description" id="product_description" {% if object %} value="{{ object.description }}" {% endif %} class="form-control">
            </div>

            <div class="input-group input-group-outline mb-3">
                <label for="product_price" class="form-label">Price</label>
                <input type="number" name="price" id="product_price" {% if object %} value="{{ object.price }}" {% endif %} class="form-control">
            </div>

            <div class="form-check form-switch d-flex align-items-center mb-3">
                <input class="form-check-input" name="is_taxable" type="checkbox" id="product_is_taxable">
                <label class="form-check-label mb-0 ms-3" for="product_is_taxable">Is Taxable</label>
            </div>

            {% if object %}
              <label class="form-label">Current: {{ object.image }}</label>
            {% endif %}
            <div class="input-group input-group-outline mb-3">
              <input type="file" name="image" accept="image/*" id="product_image" class="form-control">
            </div>

            <div class="input-group input-group-outline mb-3">
                <label for="product_barcode" class="form-label">Barcode</label>
                <input type="text" name="barcode" id="product_barcode" {% if object %} value="{{ object.barcode }}" {% endif %} class="form-control">
            </div>

            <div class="form-check form-switch d-flex align-items-center mb-3">
                <input class="form-check-input" name="is_active" type="checkbox" id="product_is_active">
                <label class="form-check-label mb-0 ms-3" for="product_is_active">Is Active</label>
            </div>

            <div class="input-group input-group-outline mb-3">
              <span class="mb-2 text-xs">Product Category <span class="text-dark ms-sm-2 font-weight-bold">{{ form.product_category }}</span></span>
            </div>

            <div class="text-center">
                <input type="submit" value="Submit" class="btn bg-gradient-primary w-100 my-4 mb-2">
            </div>
          
          </form>
          {% else %}
          <form action="" method="post" role="form" class="text-start" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

          <div class="input-group input-group-outline mb-3">
              <label for="product_name" class="form-label">Name</label>
              <input type="text" id="product_name" name="name" {% if object %} value="{{ object.name }}" {% endif %} class="form-control">
          </div>

          <div class="input-group input-group-outline mb-3">
              <label for="product_description" class="form-label">Description</label>
              <input type="text" name="description" id="product_description" {% if object %} value="{{ object.description }}" {% endif %} class="form-control">
          </div>

          <div class="input-group input-group-outline mb-3">
              <label for="product_price" class="form-label">Price</label>
              <input type="number" name="price" id="product_price" {% if object %} value="{{ object.price }}" {% endif %} class="form-control">
          </div>

          <div class="form-check form-switch d-flex align-items-center mb-3">
              <input class="form-check-input" name="is_taxable" type="checkbox" id="product_is_taxable">
              <label class="form-check-label mb-0 ms-3" for="product_is_taxable">Is Taxable</label>
          </div>

          {% if object %}
            <label class="form-label">Current: {{ object.image }}</label>
          {% endif %}
          <div class="input-group input-group-outline mb-3">
            <input type="file" name="image" accept="image/*" id="product_image" class="form-control">
          </div>

          <div class="input-group input-group-outline mb-3">
              <label for="product_barcode" class="form-label">Barcode</label>
              <input type="text" name="barcode" id="product_barcode" {% if object %} value="{{ object.barcode }}" {% endif %} class="form-control">
          </div>

          <div class="form-check form-switch d-flex align-items-center mb-3">
              <input class="form-check-input" name="is_active" type="checkbox" id="product_is_active">
              <label class="form-check-label mb-0 ms-3" for="product_is_active">Is Active</label>
          </div>

          <div class="input-group input-group-outline mb-3">
            <span class="mb-2 text-xs">Product Category <span class="text-dark ms-sm-2 font-weight-bold">{{ form.product_category }}</span></span>
          </div>

          <div class="text-center">
              <input type="submit" value="Submit" class="btn bg-gradient-primary w-100 my-4 mb-2">
          </div>
        
        </form>

          {% endif %}
      
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  let productcategoryElement = document.getElementById('id_productcategory');
  productcategoryElement.classList.add("selectpicker");
  productcategoryElement.classList.add("form-control");
  productcategoryElement.setAttribute("data-style", "btn btn-link");
</script>

{% endblock %}